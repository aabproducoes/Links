<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Botões com Linhas Aleatórias no Hover</title>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: sans-serif;
      padding: 2rem;
    }
    
    /* Contêiner para cada botão (permite inserir linhas dentro dele) */
    .btn-container {
      position: relative; /* fundamental para posicionar linhas dentro */
      display: inline-block; /* para agrupar o botão e as linhas */
      margin: 1rem;
      vertical-align: middle; /* opcional */
    }

    /* O próprio botão */
    .main-btn {
      display: inline-block;
      background: #222;
      color: #fff;
      padding: 10px 15px;
      border: 1px solid #444;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 500;
      transition: background 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
      position: relative; /* se quiser z-index acima das linhas */
      z-index: 1;         /* garante que o botão fique acima das faíscas */
    }
    .main-btn:hover {
      background: #f06595;
      color: #fff;
      transform: scale(1.05);
      box-shadow: 0 4px 10px rgba(240, 101, 149, 0.4);
    }
    .main-btn:active {
      transform: scale(0.95);
      box-shadow: 0 3px 8px rgba(240, 101, 149, 0.3);
    }

    /* Estilo padrão para as linhas faíscas */
    .spark-line {
      position: absolute;
      top: 50%;    /* vamos partir do meio do contêiner */
      left: 50%;   /* idem */
      width: 2px;  /* espessura da linha */
      height: 0px; /* linha inicial com height = 0 (poderá animar) */
      background: #f06595;
      transform-origin: top center; /* para animar expandindo “de cima para baixo” */
      opacity: 0;
      transition: height 0.3s, opacity 0.3s;
      /* Podemos animar com transition ou direto via JS. */
    }
    /* Ao adicionar a classe "active", podemos animar a aparição */
    .spark-line.active {
      opacity: 1;
    }
  </style>
</head>
<body>
  
  <h1>Exemplo de Linhas Aleatórias no Hover</h1>
  
  <div class="btn-container">
    <a href="#" class="main-btn" data-sparks="6">
      Botão 1
    </a>
  </div>

  <div class="btn-container">
    <a href="#" class="main-btn" data-sparks="4">
      Botão 2
    </a>
  </div>

  <div class="btn-container">
    <a href="#" class="main-btn" data-sparks="8">
      Botão 3
    </a>
  </div>

  <script>
    // Seleciona todos os contêineres de botões
    const btnContainers = document.querySelectorAll('.btn-container');

    btnContainers.forEach(container => {
      const btn = container.querySelector('.main-btn');

      // Ao entrar com o mouse (mouseover), geramos as linhas
      btn.addEventListener('mouseenter', () => {
        createSparkLines(container, btn);
      });

      // Ao sair com o mouse (mouseleave), removemos as linhas
      btn.addEventListener('mouseleave', () => {
        removeSparkLines(container);
      });
    });

    function createSparkLines(container, btn) {
      // Lê quantas faíscas (linhas) geraremos do atributo data-sparks ou usa 5 como default
      const sparksCount = parseInt(btn.getAttribute('data-sparks')) || 5;

      // Dimensões do contêiner (para saber a área “aleatória”)
      const rect = container.getBoundingClientRect();
      const centerX = rect.width / 2;
      const centerY = rect.height / 2;

      for (let i = 0; i < sparksCount; i++) {
        // Cria a linha
        const line = document.createElement('div');
        line.classList.add('spark-line');

        // Define um comprimento aleatório entre 30 e 70 px, por exemplo
        const length = 30 + Math.random() * 40;

        // Define um ângulo aleatório (0 a 360 graus)
        const angle = Math.random() * 360;

        // Posiciona a linha no meio do contêiner
        line.style.top = '50%';
        line.style.left = '50%';

        // Rotaciona e ajusta a altura
        // Usamos transform: rotate(angledeg) para direcionar a linha
        line.style.transform = `translate(-50%, -100%) rotate(${angle}deg)`;

        // Inserimos a linha no contêiner
        container.appendChild(line);

        // Forçamos reflow para que a transição funcione
        // (às vezes, precisamos de um pequeno delay)
        requestAnimationFrame(() => {
          // Agora definimos a altura final e ativamos a classe "active" (para fade-in)
          line.style.height = `${length}px`;
          line.classList.add('active');
        });
      }
    }

    function removeSparkLines(container) {
      // Seleciona todas as linhas criadas (.spark-line)
      const lines = container.querySelectorAll('.spark-line');

      lines.forEach(line => {
        // Podemos animar o desaparecimento definindo height=0 e removendo .active
        line.classList.remove('active');
        line.style.height = '0px';
        line.style.opacity = '0';

        // Depois de um pequeno delay, removemos o elemento do DOM
        setTimeout(() => {
          if (line.parentNode) {
            line.parentNode.removeChild(line);
          }
        }, 300);
      });
    }
  </script>
</body>
</html>
