async function fetchCertificationsList() {
  try {
    const response = await fetch('./Certificados/CertificadosList.txt');
    if (!response.ok) {
      throw new Error(`Failed to fetch certifications list: ${response.status} ${response.statusText}`);
    }

    const data = await response.text();
    console.log("CertificadosList.txt content:\n", data);

    const certificationsList = document.getElementById("certifications-list");
    if (!certificationsList) {
      console.error('Certifications list element not found');
      return;
    }
    certificationsList.innerHTML = ''; // Clear existing content

    // Split lines and filter out empty lines
    const lines = data.split('\n').filter(line => line.trim() !== '');
    console.log("Parsed certificate lines:", lines);

    if (lines.length === 0) {
      certificationsList.innerHTML = '<li>No certifications available.</li>';
      console.warn('No valid certifications found in CertificadosList.txt');
      return;
    }

    lines.forEach((line, index) => {
      console.log(`Processing line ${index + 1}: ${line}`);

      const parts = line.split(' - ');
      if (parts.length < 2) {
        console.warn(`Skipping invalid line: "${line}"`);
        return;
      }

      const filePath = parts[0].trim();
      const title = parts.slice(1).join(' - ').trim();

      // Create list item
      const listItem = document.createElement('li');

      const certTitle = document.createElement('div');
      certTitle.classList.add('cert-title');
      certTitle.textContent = title;

      const iframe = document.createElement('iframe');
      iframe.src = filePath;
      iframe.classList.add('pdf-frame');
      iframe.title = title;
      iframe.setAttribute('loading', 'lazy'); // Lazy load for performance
      iframe.width = "100%";
      iframe.height = "400px";

      const downloadLink = document.createElement('a');
      downloadLink.href = filePath;
      downloadLink.target = "_blank";
      downloadLink.textContent = "View/Download PDF";
      downloadLink.classList.add('pdf-link');

      // Append to list item
      listItem.appendChild(certTitle);
      listItem.appendChild(iframe);
      listItem.appendChild(downloadLink);

      // Add the list item to the certifications list
      certificationsList.appendChild(listItem);
    });
  } catch (error) {
    console.error('Error loading certifications list:', error);
    alert('An error occurred while loading the certifications list. Please try again later.');
  }
}
